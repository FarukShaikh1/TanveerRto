
name: Azure Static Web Apps CI/CD
on:
  push:
   branches:
     - main

jobs:

  build_and_deploy_job:

    runs-on: ubuntu-latest

    steps:

      - uses: actions/checkout@v3

      - name: Setup Node.js

        uses: actions/setup-node@v3

        with:

          node-version: 18
 
      - name: Install Dependencies

        run: npm install --force
 
      - name: Build Angular App

        run: npm run build -- --configuration prod
 
      - name: Deploy to Azure Static Web Apps
      
        uses: Azure/static-web-apps-deploy@v1
      
        with:
      
          azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_MANGO_FOREST_01DFF1B00 }}
      
          repo_token: ${{ secrets.GITHUB_TOKEN }}
      
          action: "upload"
      
          #app_location: "/"
      
          api_location: ""
      
          #output_location: "dist/tanveerrto/browser"
      
         # skip_app_build: true  # ðŸš€ Prevent Azure from re-running npm install/build
          
          app_location: "dist/tanveerrto/browser"
          output_location: ""
          skip_app_build: true

 




